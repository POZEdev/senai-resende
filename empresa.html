<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>PRISMA IA - Versão Empresa</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <aside aria-label="Menu lateral">
      <div
        id="btnInicioEmpresa"
        class="active"
        title="Início"
        tabindex="0"
        role="button"
        aria-pressed="true"
        style="
          margin: 0 auto 0 auto;
          display: flex;
          align-items: center;
          justify-content: center;
          background: none;
          border: none;
          cursor: pointer;
          width: 48px;
          height: 48px;
          border-radius: 50%;
          transition: background 0.2s;
        "
        onmouseover="this.style.background='#e5e7eb'"
        onmouseout="this.style.background='none'"
      >
        <span
          style="
            display: flex;
            align-items: center;
            justify-content: center;
            height: 40px;
          "
          aria-label="Início"
        >
          <svg
            width="32"
            height="32"
            viewBox="0 0 24 24"
            fill="none"
            aria-hidden="true"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M3 11.5L12 4L21 11.5V20A1 1 0 0 1 20 21H16A1 1 0 0 1 15 20V16A1 1 0 0 0 14 15H10A1 1 0 0 0 9 16V20A1 1 0 0 1 8 21H4A1 1 0 0 1 3 20V11.5Z"
              fill="#111827"
            />
          </svg>
        </span>
      </div>
      <div
        id="btnCadastroEmpresa"
        title="Cadastro da Empresa"
        tabindex="0"
        role="button"
        aria-pressed="false"
        style="
          margin: 0 auto 0 auto;
          display: flex;
          align-items: center;
          justify-content: center;
          background: none;
          border: none;
          cursor: pointer;
          width: 48px;
          height: 48px;
          border-radius: 50%;
          transition: background 0.2s;
        "
        onmouseover="this.style.background='#e5e7eb'"
        onmouseout="this.style.background='none'"
      >
        <span
          style="
            font-size: 1.7rem;
            color: #111827;
            font-weight: 700;
            letter-spacing: 1px;
          "
          >✎</span
        >
      </div>

      <div style="flex: 1"></div>
      <div
        id="btnVoltarParaUsuario"
        title="Voltar para Versão Usuário"
        tabindex="0"
        role="button"
        aria-pressed="false"
        style="
          margin: 0 auto 16px auto;
          display: flex;
          align-items: center;
          justify-content: center;
          background: #22c55e;
          border: none;
          cursor: pointer;
          width: 48px;
          height: 48px;
          border-radius: 50%;
          transition: background 0.2s;
        "
        onmouseover="this.style.background='#111827';this.querySelector('circle').setAttribute('fill','#fff');this.querySelector('path').setAttribute('stroke','#fff');"
        onmouseout="this.style.background='#22c55e';this.querySelector('circle').setAttribute('fill','#111827');this.querySelector('path').setAttribute('stroke','#111827');"
        onclick="window.location.href='index.html'"
      >
        <span
          style="
            display: flex;
            align-items: center;
            justify-content: center;
            height: 40px;
          "
          aria-label="Voltar para Versão Usuário"
        >
          <svg
            width="32"
            height="32"
            viewBox="0 0 24 24"
            fill="none"
            aria-hidden="true"
            xmlns="http://www.w3.org/2000/svg"
          >
            <circle cx="12" cy="8" r="4" fill="#111827" />
            <path
              d="M4 20c0-3.3137 3.134-6 7-6s7 2.6863 7 6"
              stroke="#111827"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              fill="none"
            />
          </svg>
        </span>
      </div>
      <!-- Modal para exibir a logo expandida -->
    </aside>
    <main id="mainContentEmpresa" aria-live="polite">
      <section id="paginaEmpresa">
        <section class="empresa-container">
          <div
            style="
              display: flex;
              align-items: center;
              justify-content: space-between;
              margin-bottom: 18px;
              position: relative;
              z-index: 1;
            "
          >
            <h2 class="metas-titulo" style="margin: 0">
              Informações da Empresa
            </h2>
            <div
              class="logo-lateral"
              style="
                margin-left: 24px;
                position: absolute;
                right: 0;
                top: -30px;
                z-index: 0;
                pointer-events: auto;
              "
            >
              <img
                src="https://i.postimg.cc/fRcHdm69/capturar-removebg-preview.png"
                alt="Logo Prisma"
                style="
                  width: 190px;
                  height: 190px;
                  opacity: 1;
                  cursor: pointer;
                  transition: transform 0.32s cubic-bezier(0.7, 0.2, 0.3, 1.1);
                  display: block;
                "
                id="logoPrisma"
                onmouseover="this.style.transform='scale(1.25) rotate(-90deg)'"
                onmouseout="this.style.transform='scale(1) rotate(0deg)'"
              />
            </div>
          </div>
          <div class="meta-item"><strong>CNPJ:</strong> 04.853.037/0001-21</div>
          <div class="meta-item">
            <strong>Nome:</strong> Michelin Brasil Pneus Ltda.
          </div>
          <div class="meta-item">
            <strong>Endereço:</strong> Rodovia BR-040, Km 69, s/nº - Xerém,
            Duque de Caxias/RJ, CEP 25260-010
          </div>
          <div class="meta-item">
            <strong>Funcionários:</strong> Aproximadamente 6.000
          </div>
        </section>

        <section
          class="vagas-sumario-container metas-container"
          style="margin-bottom: 32px"
        >
          <h2 class="metas-titulo">Sumário de Vagas</h2>
          <div
            class="vagas-sumario-grid"
            style="
              display: flex;
              gap: 24px;
              flex-wrap: wrap;
              justify-content: flex-start;
            "
          >
            <div class="vaga-sumario-card">
              <div class="vaga-sumario-titulo">Analista de Processos</div>
              <div class="vaga-sumario-info">
                Interessados: <span class="vaga-sumario-num">87</span>
              </div>
            </div>
            <div class="vaga-sumario-card">
              <div class="vaga-sumario-titulo">Engenheiro de Produção</div>
              <div class="vaga-sumario-info">
                Interessados: <span class="vaga-sumario-num">112</span>
              </div>
            </div>
            <div class="vaga-sumario-card">
              <div class="vaga-sumario-titulo">Técnico em Qualidade</div>
              <div class="vaga-sumario-info">
                Interessados: <span class="vaga-sumario-num">65</span>
              </div>
            </div>
            <div class="vaga-sumario-card">
              <div class="vaga-sumario-titulo">Supervisor de Logística</div>
              <div class="vaga-sumario-info">
                Interessados: <span class="vaga-sumario-num">41</span>
              </div>
            </div>
          </div>
        </section>

        <h2 class="metas-titulo">Vagas Disponíveis</h2>
        <section
          class="vagas-container empresa-vagas"
          aria-label="Vagas da Empresa"
        >
          <article class="vaga-card vaga-card-add" id="btnAddVaga" tabindex="0">
            +
          </article>
          <article class="vaga-card" tabindex="0">
            <div class="vaga-empresa">Michelin</div>
            <div class="vaga-titulo">Analista de Processos</div>
            <div class="vaga-curso">Administração</div>
            <div class="chances">Status: Aberta</div>
          </article>
          <article class="vaga-card" tabindex="0">
            <div class="vaga-empresa">Michelin</div>
            <div class="vaga-titulo">Engenheiro de Produção</div>
            <div class="vaga-curso">Engenharia de Produção</div>
            <div class="chances">Status: Preenchida</div>
          </article>
          <article class="vaga-card" tabindex="0">
            <div class="vaga-empresa">Michelin</div>
            <div class="vaga-titulo">Técnico em Qualidade</div>
            <div class="vaga-curso">Técnico em Qualidade</div>
            <div class="chances">Status: Aberta</div>
          </article>
        </section>

        <section
          class="metas-container metas-dupla"
          style="
            display: flex;
            flex-direction: row;
            gap: 0;
            align-items: stretch;
            min-height: 260px;
          "
        >
          <div
            class="grafico-vagas-area"
            style="
              flex: 1;
              min-width: 220px;
              display: flex;
              flex-direction: column;
              align-items: center;
              justify-content: center;
              padding: 32px 32px 32px 24px;
            "
          >
            <h2
              class="metas-titulo"
              style="
                text-align: center;
                font-size: 1.18rem;
                margin-bottom: 18px;
              "
            >
              Média anual de vagas
            </h2>
            <div
              style="
                height: 220px;
                width: 100%;
                max-width: 420px;
                display: flex;
                align-items: center;
                justify-content: center;
              "
            >
              <canvas id="graficoVagas" width="420" height="220"></canvas>
            </div>
            <div
              style="
                font-size: 1.12rem;
                color: #2563eb;
                margin-top: 4px;
                text-align: center;
              "
            >
              Média: 320 vagas/mês
            </div>
          </div>
          <div
            class="vagas-preenchidas-col"
            style="
              flex: 1;
              min-width: 220px;
              border-left: 2px solid #e5e7eb;
              padding-left: 24px;
              display: flex;
              flex-direction: column;
              justify-content: center;
            "
          >
            <h2
              class="metas-titulo"
              style="
                text-align: center;
                font-size: 1.18rem;
                margin-bottom: 18px;
              "
            >
              Vagas Preenchidas
            </h2>

            <!-- Gráfico de barras de vagas preenchidas/disponíveis -->
            <div
              id="graficoVagaSelecionadaContainer"
              style="
                margin-top: 32px;
                max-width: 480px;
                margin-left: auto;
                margin-right: auto;
              "
            >
              <div
                style="
                  display: flex;
                  align-items: center;
                  justify-content: center;
                  gap: 8px;
                  margin-bottom: 8px;
                "
              >
                <button
                  id="btnVagaAnterior"
                  style="
                    padding: 4px 8px;
                    border-radius: 6px;
                    border: 1px solid #22c55e;
                    background: #fff;
                    color: #22c55e;
                    font-weight: 600;
                    cursor: pointer;
                    font-size: 1.2rem;
                  "
                >
                  &#8592;
                </button>
                <span
                  id="nomeVagaSelecionada"
                  style="
                    font-weight: bold;
                    font-size: 1.1rem;
                    min-width: 180px;
                    text-align: center;
                  "
                  >Engenheiro de Produção</span
                >
                <button
                  id="btnVagaProxima"
                  style="
                    padding: 4px 8px;
                    border-radius: 6px;
                    border: 1px solid #22c55e;
                    background: #fff;
                    color: #22c55e;
                    font-weight: 600;
                    cursor: pointer;
                    font-size: 1.2rem;
                  "
                >
                  &#8594;
                </button>
                <button
                  id="btnDropdownVagas"
                  style="
                    padding: 4px 8px;
                    border-radius: 6px;
                    border: 1px solid #22c55e;
                    background: #fff;
                    color: #22c55e;
                    font-weight: 600;
                    cursor: pointer;
                    font-size: 1.1rem;
                    transform: rotate(0deg);
                    transition: transform 0.2s;
                  "
                >
                  &#9650;
                </button>
              </div>
              <div
                id="listaVagasDropdown"
                style="
                  display: none;
                  background: #fff;
                  border: 1px solid #d1d5db;
                  border-radius: 8px;
                  max-height: 180px;
                  overflow-y: auto;
                  margin-bottom: 10px;
                "
              ></div>
              <canvas
                id="graficoVagaSelecionada"
                width="420"
                height="220"
              ></canvas>
            </div>
            <script>
              const vagasDados = [
                {
                  nome: "Engenheiro de Produção",
                  disponivel: 410,
                  preenchido: 395,
                },
                {
                  nome: "Analista de Processos",
                  disponivel: 370,
                  preenchido: 350,
                },
                {
                  nome: "Técnico em Qualidade",
                  disponivel: 335,
                  preenchido: 320,
                },
                {
                  nome: "Supervisor de Logística",
                  disponivel: 295,
                  preenchido: 270,
                },
                {
                  nome: "Operador de Máquinas",
                  disponivel: 280,
                  preenchido: 260,
                },
                {
                  nome: "Auxiliar Administrativo",
                  disponivel: 260,
                  preenchido: 240,
                },
                {
                  nome: "Engenheiro Ambiental",
                  disponivel: 210,
                  preenchido: 185,
                },
                {
                  nome: "Técnico em Segurança do Trabalho",
                  disponivel: 175,
                  preenchido: 150,
                },
                {
                  nome: "Estagiário de Engenharia",
                  disponivel: 160,
                  preenchido: 140,
                },
                { nome: "Analista de RH", disponivel: 130, preenchido: 110 },
              ];
              let vagaAtual = 0;
              let graficoVaga;
              function renderizarGraficoVaga(idx) {
                const vaga = vagasDados[idx];
                document.getElementById("nomeVagaSelecionada").textContent =
                  vaga.nome;
                const canvas = document.getElementById(
                  "graficoVagaSelecionada"
                );
                if (!canvas) return;
                const ctx = canvas.getContext("2d");
                if (graficoVaga) graficoVaga.destroy();
                graficoVaga = new Chart(ctx, {
                  type: "bar",
                  data: {
                    labels: ["Disponível", "Preenchido"],
                    datasets: [
                      {
                        label: vaga.nome,
                        data: [vaga.disponivel, vaga.preenchido],
                        backgroundColor: ["#2563eb", "#fb923c"],
                        borderRadius: 8,
                        maxBarThickness: 48,
                      },
                    ],
                  },
                  options: {
                    plugins: { legend: { display: false } },
                    scales: {
                      y: { beginAtZero: true, ticks: { color: "#111827" } },
                      x: { ticks: { color: "#111827" } },
                    },
                  },
                });
              }
              renderizarGraficoVaga(vagaAtual);
              // Dropdown de vagas
              const btnTrocarVaga = document.getElementById("btnTrocarVaga");
              const listaVagasDropdown =
                document.getElementById("listaVagasDropdown");
              btnTrocarVaga.onclick = function () {
                listaVagasDropdown.style.display =
                  listaVagasDropdown.style.display === "block"
                    ? "none"
                    : "block";
                if (listaVagasDropdown.innerHTML === "") {
                  vagasDados.forEach((vaga, idx) => {
                    const opt = document.createElement("div");
                    opt.textContent = vaga.nome;
                    opt.style.padding = "8px 14px";
                    opt.style.cursor = "pointer";
                    opt.onmouseover = () => (opt.style.background = "#f0fdf4");
                    opt.onmouseout = () => (opt.style.background = "#fff");
                    opt.onclick = () => {
                      vagaAtual = idx;
                      renderizarGraficoVaga(idx);
                      listaVagasDropdown.style.display = "none";
                    };
                    listaVagasDropdown.appendChild(opt);
                  });
                }
              };
              document.addEventListener("click", function (e) {
                if (
                  !btnTrocarVaga.contains(e.target) &&
                  !listaVagasDropdown.contains(e.target)
                ) {
                  listaVagasDropdown.style.display = "none";
                }
              });
            </script>
          </div>
        </section>

        <!-- Modal de cadastro de vaga -->
        <div id="modalAddVaga" class="modal-bg">
          <div class="modal-content" style="max-width: 420px">
            <div class="modal-header">
              <h3>Nova Vaga</h3>
              <button id="modalAddVagaClose" class="modal-close">
                &times;
              </button>
            </div>
            <form id="formAddVaga">
              <label for="vagaTitulo">Título da Vaga</label>
              <input type="text" id="vagaTitulo" name="vagaTitulo" required />

              <label for="vagaCurso">Curso Necessário</label>
              <input type="text" id="vagaCurso" name="vagaCurso" required />

              <label for="vagaStatus">Status</label>
              <select id="vagaStatus" name="vagaStatus" required>
                <option value="Aberta">Aberta</option>
                <option value="Preenchida">Preenchida</option>
              </select>

              <label for="vagaPCD">Vaga para PCD?</label>
              <select id="vagaPCD" name="vagaPCD" required>
                <option value="Sim">Sim</option>
                <option value="Não">Não</option>
              </select>

              <button type="submit">Cadastrar Vaga</button>
            </form>
          </div>
        </div>
      </section>

      <section
        id="cadastroEmpresa"
        style="
          display: none;
          max-width: 600px;
          margin: 40px auto;
          background: #fff;
          border-radius: 16px;
          box-shadow: 0 4px 16px #0001;
          padding: 32px;
        "
      >
        <h2 class="metas-titulo">Cadastro da Empresa</h2>
        <form id="formCadastroEmpresa">
          <label for="cnpjEmpresa">CNPJ</label>
          <input
            type="text"
            id="cnpjEmpresa"
            name="cnpjEmpresa"
            required
            placeholder="00.000.000/0001-00"
          />

          <label for="nomeEmpresa">Nome da Empresa</label>
          <input
            type="text"
            id="nomeEmpresa"
            name="nomeEmpresa"
            required
            placeholder="Nome da empresa"
          />

          <label for="enderecoEmpresa">Endereço</label>
          <input
            type="text"
            id="enderecoEmpresa"
            name="enderecoEmpresa"
            required
            placeholder="Endereço completo"
          />

          <label for="emailEmpresa">E-mail</label>
          <input
            type="email"
            id="emailEmpresa"
            name="emailEmpresa"
            required
            placeholder="contato@empresa.com"
          />

          <label for="telefoneEmpresa">Telefone</label>
          <input
            type="tel"
            id="telefoneEmpresa"
            name="telefoneEmpresa"
            required
            placeholder="(00) 0000-0000"
          />

          <button type="submit">Cadastrar Empresa</button>
        </form>
      </section>

      <section
        id="cadastroCurso"
        style="
          display: none;
          max-width: 600px;
          margin: 40px auto;
          background: #fff;
          border-radius: 16px;
          box-shadow: 0 4px 16px #0001;
          padding: 32px;
        "
      >
        <h2 class="metas-titulo">Cadastro de Graduação/Curso</h2>
        <form id="formCadastroCurso">
          <label for="nomeCurso">Nome do Curso</label>
          <input
            type="text"
            id="nomeCurso"
            name="nomeCurso"
            required
            placeholder="Nome do curso"
          />

          <label for="areaCurso">Área de Estudo</label>
          <input
            type="text"
            id="areaCurso"
            name="areaCurso"
            required
            placeholder="Área de estudo"
          />

          <label for="instituicaoCurso">Instituição de Ensino</label>
          <input
            type="text"
            id="instituicaoCurso"
            name="instituicaoCurso"
            required
            placeholder="Nome da instituição"
          />

          <label for="anoConclusao">Ano de Conclusão</label>
          <input
            type="number"
            id="anoConclusao"
            name="anoConclusao"
            required
            placeholder="AAAA"
            min="1900"
            max="2100"
          />

          <label
            for="descricaoCurso"
            style="
              margin-top: 18px;
              display: block;
              font-weight: 600;
              color: #111827;
            "
            >Descrição do Curso</label
          >
          <textarea
            id="descricaoCurso"
            name="descricaoCurso"
            rows="4"
            placeholder="Descreva brevemente o conteúdo do curso, habilidades desenvolvidas, etc."
            style="
              width: 100%;
              border-radius: 8px;
              border: 1px solid #d1d5db;
              padding: 12px;
              font-size: 1rem;
              margin-bottom: 18px;
            "
          ></textarea>

          <h2 class="metas-titulo">Experiência de Trabalho</h2>
          <form id="formExperiencia">
            <label for="cargoExperiencia">Cargo</label>
            <input
              type="text"
              id="cargoExperiencia"
              name="cargoExperiencia"
              required
              placeholder="Seu cargo na empresa"
            />

            <label for="empresaExperiencia">Empresa</label>
            <input
              type="text"
              id="empresaExperiencia"
              name="empresaExperiencia"
              required
              placeholder="Nome da empresa"
            />

            <label for="periodoExperiencia">Período</label>
            <input
              type="text"
              id="periodoExperiencia"
              name="periodoExperiencia"
              required
              placeholder="Ex: Jan 2020 - Dez 2021"
            />

            <label
              for="atividadesExperiencia"
              style="
                margin-top: 18px;
                display: block;
                font-weight: 600;
                color: #111827;
              "
              >Atividades Desenvolvidas</label
            >
            <textarea
              id="atividadesExperiencia"
              name="atividadesExperiencia"
              rows="4"
              placeholder="Descreva suas principais atividades e responsabilidades..."
              style="
                width: 100%;
                border-radius: 8px;
                border: 1px solid #d1d5db;
                padding: 12px;
                font-size: 1rem;
                margin-bottom: 18px;
              "
            ></textarea>
          </form>
          <label
            for="descricaoSobreMim"
            style="
              margin-top: 18px;
              display: block;
              font-weight: 600;
              color: #111827;
            "
            >Sobre você</label
          >
          <textarea
            id="descricaoSobreMim"
            name="descricaoSobreMim"
            rows="4"
            placeholder="Conte um pouco sobre você, seus objetivos, interesses ou experiências relevantes..."
            style="
              width: 100%;
              border-radius: 8px;
              border: 1px solid #d1d5db;
              padding: 12px;
              font-size: 1rem;
              margin-bottom: 18px;
            "
          ></textarea>

          <button type="submit">Cadastrar Curso</button>
        </form>
      </section>
    </main>
    <script>
      document.getElementById("btnVoltarUsuario").onclick = function () {
        window.location.href = "index.html";
      };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
      // Gráfico de linha para média anual de vagas
      window.addEventListener("DOMContentLoaded", function () {
        var ctx = document.getElementById("graficoVagas").getContext("2d");
        new Chart(ctx, {
          type: "line",
          data: {
            labels: ["Jan", "Fev", "Mar", "Abr", "Mai", "Jun", "Jul", "Ago"],
            datasets: [
              {
                label: "Vagas Disponíveis",
                data: [220, 260, 245, 310, 330, 350, 390, 410],
                borderColor: "#2563eb",
                backgroundColor: "rgba(37,99,235,0.08)",
                tension: 0.35,
                fill: true,
                pointRadius: 3,
                pointBackgroundColor: "#22c55e",
              },
              {
                label: "Vagas Preenchidas (projeção)",
                data: [200, 250, 230, 295, 310, 340, 370, 400],
                borderColor: "#fb923c",
                backgroundColor: "rgba(251,146,60,0.10)",
                tension: 0.38,
                fill: false,
                pointRadius: 3,
                pointBackgroundColor: "#fb923c",
                borderWidth: 2,
                borderDash: [6, 4],
              },
            ],
          },
          options: {
            plugins: { legend: { display: true } },
            scales: {
              y: { beginAtZero: true, ticks: { color: "#2563eb" } },
              x: { ticks: { color: "#2563eb" } },
            },
          },
        });
      });
    </script>
    <script>
      document
        .getElementById("formCadastroEmpresa")
        .addEventListener("submit", function (e) {
          e.preventDefault();
          alert("Empresa cadastrada com sucesso!");
          // Aqui você pode adicionar lógica para salvar ou exibir os dados da empresa
          e.target.reset();
        });
    </script>
    <script>
      // Modal de cadastro de vaga
      const btnAddVaga = document.getElementById("btnAddVaga");
      const modalAddVaga = document.getElementById("modalAddVaga");
      const modalAddVagaClose = document.getElementById("modalAddVagaClose");
      const formAddVaga = document.getElementById("formAddVaga");
      btnAddVaga.onclick = () => {
        modalAddVaga.classList.add("active");
      };
      modalAddVagaClose.onclick = () => {
        modalAddVaga.classList.remove("active");
      };
      modalAddVaga.onclick = (e) => {
        if (e.target === modalAddVaga) modalAddVaga.classList.remove("active");
      };
      formAddVaga.onsubmit = function (e) {
        e.preventDefault();
        // Adiciona a vaga na lista
        const titulo = document.getElementById("vagaTitulo").value;
        const curso = document.getElementById("vagaCurso").value;
        const status = document.getElementById("vagaStatus").value;
        const pcd = document.getElementById("vagaPCD").value;
        const vagasContainer = document.querySelector(".vagas-container");
        const card = document.createElement("article");
        card.className = "vaga-card";
        card.tabIndex = 0;
        card.innerHTML = `<div class="vaga-empresa">Michelin</div><div class="vaga-titulo">${titulo}</div><div class="vaga-curso">${curso}</div><div class="chances">Status: ${status}</div><div class="vaga-pcd" style="color:${
          pcd === "Sim" ? "#22c55e" : "#ef4444"
        };font-weight:700;">PCD: ${pcd}</div>`;
        vagasContainer.insertBefore(card, btnAddVaga);
        modalAddVaga.classList.remove("active");
        formAddVaga.reset();
      };
    </script>
    <script>
      // Navegação entre as seções
      const btnInicioEmpresa = document.getElementById("btnInicioEmpresa");
      const btnCadastroEmpresa = document.getElementById("btnCadastroEmpresa");
      const paginaEmpresa = document.getElementById("paginaEmpresa");
      const cadastroEmpresa = document.getElementById("cadastroEmpresa");

      btnInicioEmpresa.onclick = () => {
        paginaEmpresa.style.display = "block";
        cadastroEmpresa.style.display = "none";
        btnInicioEmpresa.classList.add("active");
        btnCadastroEmpresa.classList.remove("active");
      };

      btnCadastroEmpresa.onclick = () => {
        paginaEmpresa.style.display = "none";
        cadastroEmpresa.style.display = "block";
        btnCadastroEmpresa.classList.add("active");
        btnInicioEmpresa.classList.remove("active");
      };
    </script>
    <script>
      // Gráfico interativo de vagas preenchidas/disponíveis consolidado
      (function () {
        // Dados das vagas
        const vagasDados = [
          { nome: "Engenheiro de Produção", disponivel: 410, preenchido: 320 },
          { nome: "Analista de Processos", disponivel: 370, preenchido: 270 },
          { nome: "Técnico em Qualidade", disponivel: 335, preenchido: 235 },
          { nome: "Supervisor de Logística", disponivel: 295, preenchido: 195 },
          { nome: "Operador de Máquinas", disponivel: 280, preenchido: 180 },
          { nome: "Auxiliar Administrativo", disponivel: 260, preenchido: 160 },
          { nome: "Engenheiro Ambiental", disponivel: 210, preenchido: 110 },
          {
            nome: "Técnico em Segurança do Trabalho",
            disponivel: 175,
            preenchido: 75,
          },
          { nome: "Estagiário de Engenharia", disponivel: 160, preenchido: 60 },
          { nome: "Analista de RH", disponivel: 130, preenchido: 30 },
        ];
        let vagaAtual = 0;
        let graficoVaga;
        function renderizarGraficoVaga(idx) {
          const vaga = vagasDados[idx];
          document.getElementById("nomeVagaSelecionada").textContent =
            vaga.nome;
          const canvas = document.getElementById("graficoVagaSelecionada");
          if (!canvas) return;
          const ctx = canvas.getContext("2d");
          if (graficoVaga) graficoVaga.destroy();
          graficoVaga = new Chart(ctx, {
            type: "bar",
            data: {
              labels: ["Disponível", "Preenchido"],
              datasets: [
                {
                  label: vaga.nome,
                  data: [vaga.disponivel, vaga.preenchido],
                  backgroundColor: ["#2563eb", "#fb923c"],
                  borderRadius: 8,
                  maxBarThickness: 48,
                },
              ],
            },
            options: {
              plugins: {
                legend: { display: false },
                datalabels: {
                  anchor: "end",
                  align: "start",
                  color: "#111827",
                  font: { weight: "bold", size: 16 },
                  formatter: Math.round,
                },
              },
              scales: {
                y: { display: false },
                x: { ticks: { color: "#111827" } },
              },
            },
            plugins: [ChartDataLabels],
          });
        }
        document.addEventListener("DOMContentLoaded", function () {
          renderizarGraficoVaga(vagaAtual);
          const btnDropdownVagas = document.getElementById("btnDropdownVagas");
          const listaVagasDropdown =
            document.getElementById("listaVagasDropdown");
          const btnVagaAnterior = document.getElementById("btnVagaAnterior");
          const btnVagaProxima = document.getElementById("btnVagaProxima");
          // Dropdown
          btnDropdownVagas.onclick = function (e) {
            e.stopPropagation();
            const opened = listaVagasDropdown.style.display === "block";
            listaVagasDropdown.style.display = opened ? "none" : "block";
            btnDropdownVagas.innerHTML = opened ? "&#9650;" : "&#9660;";
            if (!opened && listaVagasDropdown.innerHTML === "") {
              listaVagasDropdown.innerHTML = "";
              vagasDados.forEach((vaga, idx) => {
                const opt = document.createElement("div");
                opt.textContent = vaga.nome;
                opt.style.padding = "8px 14px";
                opt.style.cursor = "pointer";
                opt.onmouseover = () => (opt.style.background = "#f0fdf4");
                opt.onmouseout = () => (opt.style.background = "#fff");
                opt.onclick = (ev) => {
                  ev.stopPropagation();
                  vagaAtual = idx;
                  renderizarGraficoVaga(idx);
                  listaVagasDropdown.style.display = "none";
                  btnDropdownVagas.innerHTML = "&#9650;";
                };
                listaVagasDropdown.appendChild(opt);
              });
            }
          };
          document.addEventListener("click", function (e) {
            if (
              !btnDropdownVagas.contains(e.target) &&
              !listaVagasDropdown.contains(e.target)
            ) {
              listaVagasDropdown.style.display = "none";
              btnDropdownVagas.innerHTML = "&#9650;";
            }
          });
          // Avançar e voltar
          btnVagaAnterior.onclick = function (e) {
            e.stopPropagation();
            vagaAtual = (vagaAtual - 1 + vagasDados.length) % vagasDados.length;
            renderizarGraficoVaga(vagaAtual);
          };
          btnVagaProxima.onclick = function (e) {
            e.stopPropagation();
            vagaAtual = (vagaAtual + 1) % vagasDados.length;
            renderizarGraficoVaga(vagaAtual);
          };
        });
      })();
    </script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.2.0"></script>
  </body>
</html>
