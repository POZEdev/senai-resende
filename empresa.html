<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>PRISMA IA - Versão Empresa</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <aside aria-label="Menu lateral">
      <div
        id="btnInicioEmpresa"
        class="active"
        title="Início"
        tabindex="0"
        role="button"
        aria-pressed="true"
        style="
          margin: 0 auto 0 auto;
          display: flex;
          align-items: center;
          justify-content: center;
          background: none;
          border: none;
          cursor: pointer;
          width: 48px;
          height: 48px;
          border-radius: 50%;
          transition: background 0.2s;
        "
        onmouseover="this.style.background='#e5e7eb'"
        onmouseout="this.style.background='none'"
      >
        <span
          style="
            display: flex;
            align-items: center;
            justify-content: center;
            height: 40px;
          "
          aria-label="Início"
        >
          <svg
            width="32"
            height="32"
            viewBox="0 0 24 24"
            fill="none"
            aria-hidden="true"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M3 11.5L12 4L21 11.5V20A1 1 0 0 1 20 21H16A1 1 0 0 1 15 20V16A1 1 0 0 0 14 15H10A1 1 0 0 0 9 16V20A1 1 0 0 1 8 21H4A1 1 0 0 1 3 20V11.5Z"
              fill="#111827"
            />
          </svg>
        </span>
      </div>
      <div
        id="btnCadastroEmpresa"
        title="Cadastro da Empresa"
        tabindex="0"
        role="button"
        aria-pressed="false"
        style="
          margin: 0 auto 0 auto;
          display: flex;
          align-items: center;
          justify-content: center;
          background: none;
          border: none;
          cursor: pointer;
          width: 48px;
          height: 48px;
          border-radius: 50%;
          transition: background 0.2s;
        "
        onmouseover="this.style.background='#e5e7eb'"
        onmouseout="this.style.background='none'"
      >
        <span
          style="
            font-size: 1.7rem;
            color: #111827;
            font-weight: 700;
            letter-spacing: 1px;
          "
          >✎</span
        >
      </div>

      <div style="flex: 1"></div>
      <div
        id="btnVoltarParaUsuario"
        title="Voltar para Versão Usuário"
        tabindex="0"
        role="button"
        aria-pressed="false"
        style="
          margin: 0 auto 16px auto;
          display: flex;
          align-items: center;
          justify-content: center;
          background: #22c55e;
          border: none;
          cursor: pointer;
          width: 48px;
          height: 48px;
          border-radius: 50%;
          transition: background 0.2s;
        "
        onmouseover="this.style.background='#111827';this.querySelector('circle').setAttribute('fill','#fff');this.querySelector('path').setAttribute('stroke','#fff');"
        onmouseout="this.style.background='#22c55e';this.querySelector('circle').setAttribute('fill','#111827');this.querySelector('path').setAttribute('stroke','#111827');"
        onclick="window.location.href='index.html'"
      >
        <span
          style="
            display: flex;
            align-items: center;
            justify-content: center;
            height: 40px;
          "
          aria-label="Voltar para Versão Usuário"
        >
          <svg
            width="32"
            height="32"
            viewBox="0 0 24 24"
            fill="none"
            aria-hidden="true"
            xmlns="http://www.w3.org/2000/svg"
          >
            <circle cx="12" cy="8" r="4" fill="#111827" />
            <path
              d="M4 20c0-3.3137 3.134-6 7-6s7 2.6863 7 6"
              stroke="#111827"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              fill="none"
            />
          </svg>
        </span>
      </div>
      <div class="logo-lateral">
        <img
          src="prisma-ai/capturar-removebg-preview.png"
          alt="Logo Prisma"
          style="
            width: 48px;
            height: 80px;
            margin-bottom: 12px;
            opacity: 0.92;
            cursor: pointer;
            transition: transform 0.2s cubic-bezier(0.7, 0.2, 0.3, 1.1);
          "
          id="logoPrisma"
        />
      </div>
      <!-- Modal para exibir a logo expandida -->
      <div
        id="logoModal"
        style="
          display: none;
          position: fixed;
          z-index: 9999;
          top: 0;
          left: 0;
          width: 100vw;
          height: 100vh;
          justify-content: center;
          align-items: center;
          background: transparent;
          pointer-events: auto;
        "
      >
        <div
          id="logo3dWrapper"
          style="
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            perspective: 1200px;
            width: 60vw;
            height: 60vh;
            display: flex;
            align-items: center;
            justify-content: center;
            pointer-events: none;
          "
        >
          <img
            src="prisma-ai/capturar-removebg-preview.png"
            alt="Logo Prisma Expandida"
            id="logoExpandida"
            style="
              max-width: 100%;
              max-height: 100%;
              opacity: 0.98;
              display: block;
              pointer-events: none;
              filter: drop-shadow(0 8px 24px rgba(0, 0, 0, 0.18))
                drop-shadow(0 1px 0 #fff) drop-shadow(0 0 0 #fff);
              /* O drop-shadow cria a ilusão de profundidade apenas nas partes visíveis */
              will-change: transform, filter;
              transition: transform 0.18s cubic-bezier(0.7, 0.2, 0.3, 1.1),
                filter 0.18s;
              background: none;
              border-radius: 0;
            "
          />
        </div>
      </div>
      <script>
        // Modal da logo expandida
        const logoPrisma = document.getElementById("logoPrisma");
        const logoModal = document.getElementById("logoModal");
        const logoExpandida = document.getElementById("logoExpandida");
        const logo3dWrapper = document.getElementById("logo3dWrapper");
        logoPrisma.onclick = function () {
          logoModal.style.display = "flex";
        };
        logoModal.onclick = function (e) {
          if (e.target === logoModal) logoModal.style.display = "none";
        };

        // Faz a imagem seguir completamente o mouse na tela do modal
        logoModal.addEventListener("mousemove", function (e) {
          const modalRect = logoModal.getBoundingClientRect();
          const x = e.clientX - modalRect.left;
          const y = e.clientY - modalRect.top;
          // Centraliza a imagem no ponteiro
          logo3dWrapper.style.left = x + "px";
          logo3dWrapper.style.top = y + "px";
          // O efeito de rotação será aplicado abaixo
          apply3DRotation(x, y, modalRect.width, modalRect.height);
        });
        logoModal.addEventListener("mouseleave", function () {
          // Volta para o centro da tela e reseta rotação
          logo3dWrapper.style.left = "50%";
          logo3dWrapper.style.top = "50%";
          logoExpandida.style.transform = "none";
          logoExpandida.style.filter =
            "drop-shadow(0 8px 24px rgba(0,0,0,0.18)) drop-shadow(0 1px 0 #fff) drop-shadow(0 0 0 #fff)";
        });

        // Função para aplicar rotação 3D e profundidade conforme o mouse
        function apply3DRotation(mouseX, mouseY, areaWidth, areaHeight) {
          const centerX = areaWidth / 2;
          const centerY = areaHeight / 2;
          const maxTilt = 120;
          const rotateY = ((mouseX - centerX) / centerX) * maxTilt;
          const rotateX = -((mouseY - centerY) / centerY) * maxTilt;
          // Simula profundidade com drop-shadow dinâmico
          const shadowX = ((mouseX - centerX) / centerX) * 32;
          const shadowY = ((mouseY - centerY) / centerY) * 32;
          logoExpandida.style.transform = `rotateY(${rotateY}deg) rotateX(${rotateX}deg) scale(1.18)`;
          logoExpandida.style.filter =
            `drop-shadow(${-shadowX}px ${
              shadowY + 16
            }px 32px rgba(0,0,0,0.22))` +
            ` drop-shadow(0 1px 0 #fff)` +
            ` drop-shadow(0 0 0 #fff)`;
        }
      </script>
    </aside>
    <main id="mainContentEmpresa" aria-live="polite">
      <section id="paginaEmpresa">
        <section class="empresa-container">
          <h2 class="metas-titulo">Informações da Empresa</h2>
          <div class="meta-item"><strong>CNPJ:</strong> 04.853.037/0001-21</div>
          <div class="meta-item">
            <strong>Nome:</strong> Michelin Brasil Pneus Ltda.
          </div>
          <div class="meta-item">
            <strong>Endereço:</strong> Rodovia BR-040, Km 69, s/nº - Xerém,
            Duque de Caxias/RJ, CEP 25260-010
          </div>
          <div class="meta-item">
            <strong>Funcionários:</strong> Aproximadamente 6.000
          </div>
        </section>

        <section
          class="vagas-sumario-container metas-container"
          style="margin-bottom: 32px"
        >
          <h2 class="metas-titulo">Sumário de Vagas</h2>
          <div
            class="vagas-sumario-grid"
            style="
              display: flex;
              gap: 24px;
              flex-wrap: wrap;
              justify-content: flex-start;
            "
          >
            <div class="vaga-sumario-card">
              <div class="vaga-sumario-titulo">Analista de Processos</div>
              <div class="vaga-sumario-info">
                Interessados: <span class="vaga-sumario-num">87</span>
              </div>
            </div>
            <div class="vaga-sumario-card">
              <div class="vaga-sumario-titulo">Engenheiro de Produção</div>
              <div class="vaga-sumario-info">
                Interessados: <span class="vaga-sumario-num">112</span>
              </div>
            </div>
            <div class="vaga-sumario-card">
              <div class="vaga-sumario-titulo">Técnico em Qualidade</div>
              <div class="vaga-sumario-info">
                Interessados: <span class="vaga-sumario-num">65</span>
              </div>
            </div>
            <div class="vaga-sumario-card">
              <div class="vaga-sumario-titulo">Supervisor de Logística</div>
              <div class="vaga-sumario-info">
                Interessados: <span class="vaga-sumario-num">41</span>
              </div>
            </div>
          </div>
        </section>

        <h2 class="metas-titulo">Vagas Disponíveis</h2>
        <section
          class="vagas-container empresa-vagas"
          aria-label="Vagas da Empresa"
        >
          <article class="vaga-card vaga-card-add" id="btnAddVaga" tabindex="0">
            +
          </article>
          <article class="vaga-card" tabindex="0">
            <div class="vaga-empresa">Michelin</div>
            <div class="vaga-titulo">Analista de Processos</div>
            <div class="vaga-curso">Administração</div>
            <div class="chances">Status: Aberta</div>
          </article>
          <article class="vaga-card" tabindex="0">
            <div class="vaga-empresa">Michelin</div>
            <div class="vaga-titulo">Engenheiro de Produção</div>
            <div class="vaga-curso">Engenharia de Produção</div>
            <div class="chances">Status: Preenchida</div>
          </article>
          <article class="vaga-card" tabindex="0">
            <div class="vaga-empresa">Michelin</div>
            <div class="vaga-titulo">Técnico em Qualidade</div>
            <div class="vaga-curso">Técnico em Qualidade</div>
            <div class="chances">Status: Aberta</div>
          </article>
        </section>

        <section
          class="metas-container metas-dupla"
          style="
            display: flex;
            flex-direction: row;
            gap: 0;
            align-items: stretch;
            min-height: 260px;
          "
        >
          <div
            class="grafico-vagas-area"
            style="
              flex: 1;
              min-width: 220px;
              display: flex;
              flex-direction: column;
              align-items: center;
              justify-content: center;
              padding: 32px 32px 32px 24px;
            "
          >
            <h2
              class="metas-titulo"
              style="
                text-align: center;
                font-size: 1.18rem;
                margin-bottom: 18px;
              "
            >
              Média anual de vagas
            </h2>
            <div
              style="
                height: 220px;
                width: 100%;
                max-width: 420px;
                display: flex;
                align-items: center;
                justify-content: center;
              "
            >
              <canvas id="graficoVagas" width="420" height="220"></canvas>
            </div>
            <div
              style="
                font-size: 1.12rem;
                color: #2563eb;
                margin-top: 4px;
                text-align: center;
              "
            >
              Média: 320 vagas/mês
            </div>
          </div>
          <div
            class="vagas-preenchidas-col"
            style="
              flex: 1;
              min-width: 220px;
              border-left: 2px solid #e5e7eb;
              padding-left: 24px;
              display: flex;
              flex-direction: column;
              justify-content: center;
            "
          >
            <h2
              class="metas-titulo"
              style="
                text-align: center;
                font-size: 1.18rem;
                margin-bottom: 18px;
              "
            >
              Vagas Preenchidas
            </h2>
            <div
              style="
                width: 100%;
                display: flex;
                flex-direction: column;
                align-items: flex-start;
              "
            >
              <div class="meta-item">Engenheiro de Produção - 2024</div>
              <div class="meta-item">Analista de Processos - 2023</div>
              <div class="meta-item">Técnico em Qualidade - 2023</div>
              <div class="meta-item">Supervisor de Logística - 2022</div>
              <div class="meta-item">Operador de Máquinas - 2022</div>
              <div class="meta-item">Auxiliar Administrativo - 2021</div>
            </div>
          </div>
        </section>

        <!-- Modal de cadastro de vaga -->
        <div id="modalAddVaga" class="modal-bg">
          <div class="modal-content" style="max-width: 420px">
            <div class="modal-header">
              <h3>Nova Vaga</h3>
              <button id="modalAddVagaClose" class="modal-close">
                &times;
              </button>
            </div>
            <form id="formAddVaga">
              <label for="vagaTitulo">Título da Vaga</label>
              <input type="text" id="vagaTitulo" name="vagaTitulo" required />

              <label for="vagaCurso">Curso Necessário</label>
              <input type="text" id="vagaCurso" name="vagaCurso" required />

              <label for="vagaStatus">Status</label>
              <select id="vagaStatus" name="vagaStatus" required>
                <option value="Aberta">Aberta</option>
                <option value="Preenchida">Preenchida</option>
              </select>

              <label for="vagaPCD">Vaga para PCD?</label>
              <select id="vagaPCD" name="vagaPCD" required>
                <option value="Sim">Sim</option>
                <option value="Não">Não</option>
              </select>

              <button type="submit">Cadastrar Vaga</button>
            </form>
          </div>
        </div>
      </section>

      <section
        id="cadastroEmpresa"
        style="
          display: none;
          max-width: 600px;
          margin: 40px auto;
          background: #fff;
          border-radius: 16px;
          box-shadow: 0 4px 16px #0001;
          padding: 32px;
        "
      >
        <h2 class="metas-titulo">Cadastro da Empresa</h2>
        <form id="formCadastroEmpresa">
          <label for="cnpjEmpresa">CNPJ</label>
          <input
            type="text"
            id="cnpjEmpresa"
            name="cnpjEmpresa"
            required
            placeholder="00.000.000/0001-00"
          />

          <label for="nomeEmpresa">Nome da Empresa</label>
          <input
            type="text"
            id="nomeEmpresa"
            name="nomeEmpresa"
            required
            placeholder="Nome da empresa"
          />

          <label for="enderecoEmpresa">Endereço</label>
          <input
            type="text"
            id="enderecoEmpresa"
            name="enderecoEmpresa"
            required
            placeholder="Endereço completo"
          />

          <label for="emailEmpresa">E-mail</label>
          <input
            type="email"
            id="emailEmpresa"
            name="emailEmpresa"
            required
            placeholder="contato@empresa.com"
          />

          <label for="telefoneEmpresa">Telefone</label>
          <input
            type="tel"
            id="telefoneEmpresa"
            name="telefoneEmpresa"
            required
            placeholder="(00) 0000-0000"
          />

          <button type="submit">Cadastrar Empresa</button>
        </form>
      </section>
    </main>
    <script>
      document.getElementById("btnVoltarUsuario").onclick = function () {
        window.location.href = "index.html";
      };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
      // Gráfico de linha para média anual de vagas
      window.addEventListener("DOMContentLoaded", function () {
        var ctx = document.getElementById("graficoVagas").getContext("2d");
        new Chart(ctx, {
          type: "line",
          data: {
            labels: ["Jan", "Fev", "Mar", "Abr", "Mai", "Jun", "Jul", "Ago"],
            datasets: [
              {
                label: "Vagas",
                data: [210, 230, 250, 270, 300, 340, 370, 390],
                borderColor: "#2563eb",
                backgroundColor: "rgba(37,99,235,0.08)",
                tension: 0.3,
                fill: true,
                pointRadius: 3,
                pointBackgroundColor: "#22c55e",
              },
            ],
          },
          options: {
            plugins: { legend: { display: false } },
            scales: {
              y: { beginAtZero: true, ticks: { color: "#2563eb" } },
              x: { ticks: { color: "#2563eb" } },
            },
          },
        });
      });
    </script>
    <script>
      document
        .getElementById("formCadastroEmpresa")
        .addEventListener("submit", function (e) {
          e.preventDefault();
          alert("Empresa cadastrada com sucesso!");
          // Aqui você pode adicionar lógica para salvar ou exibir os dados da empresa
          e.target.reset();
        });
    </script>
    <script>
      // Modal de cadastro de vaga
      const btnAddVaga = document.getElementById("btnAddVaga");
      const modalAddVaga = document.getElementById("modalAddVaga");
      const modalAddVagaClose = document.getElementById("modalAddVagaClose");
      const formAddVaga = document.getElementById("formAddVaga");
      btnAddVaga.onclick = () => {
        modalAddVaga.classList.add("active");
      };
      modalAddVagaClose.onclick = () => {
        modalAddVaga.classList.remove("active");
      };
      modalAddVaga.onclick = (e) => {
        if (e.target === modalAddVaga) modalAddVaga.classList.remove("active");
      };
      formAddVaga.onsubmit = function (e) {
        e.preventDefault();
        // Adiciona a vaga na lista
        const titulo = document.getElementById("vagaTitulo").value;
        const curso = document.getElementById("vagaCurso").value;
        const status = document.getElementById("vagaStatus").value;
        const pcd = document.getElementById("vagaPCD").value;
        const vagasContainer = document.querySelector(".vagas-container");
        const card = document.createElement("article");
        card.className = "vaga-card";
        card.tabIndex = 0;
        card.innerHTML = `<div class="vaga-empresa">Michelin</div><div class="vaga-titulo">${titulo}</div><div class="vaga-curso">${curso}</div><div class="chances">Status: ${status}</div><div class="vaga-pcd" style="color:${
          pcd === "Sim" ? "#22c55e" : "#ef4444"
        };font-weight:700;">PCD: ${pcd}</div>`;
        vagasContainer.insertBefore(card, btnAddVaga);
        modalAddVaga.classList.remove("active");
        formAddVaga.reset();
      };
    </script>
    <script>
      // Navegação entre as seções
      const btnInicioEmpresa = document.getElementById("btnInicioEmpresa");
      const btnCadastroEmpresa = document.getElementById("btnCadastroEmpresa");
      const paginaEmpresa = document.getElementById("paginaEmpresa");
      const cadastroEmpresa = document.getElementById("cadastroEmpresa");

      btnInicioEmpresa.onclick = () => {
        paginaEmpresa.style.display = "block";
        cadastroEmpresa.style.display = "none";
        btnInicioEmpresa.classList.add("active");
        btnCadastroEmpresa.classList.remove("active");
      };

      btnCadastroEmpresa.onclick = () => {
        paginaEmpresa.style.display = "none";
        cadastroEmpresa.style.display = "block";
        btnCadastroEmpresa.classList.add("active");
        btnInicioEmpresa.classList.remove("active");
      };
    </script>
  </body>
</html>
