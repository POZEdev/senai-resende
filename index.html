<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>PRISMA IA - Mude o seu futuro</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <aside aria-label="Menu lateral">
      <div
        id="btnInicio"
        title="In√≠cio"
        class="active"
        tabindex="0"
        role="button"
        aria-pressed="true"
        style="
          margin: 0 auto 0 auto;
          display: flex;
          align-items: center;
          justify-content: center;
          background: none;
          border: none;
          cursor: pointer;
          width: 48px;
          height: 48px;
          border-radius: 50%;
          transition: background 0.2s;
        "
        onmouseover="this.style.background='#e5e7eb'"
        onmouseout="this.style.background='none'"
      >
        <span
          style="
            display: flex;
            align-items: center;
            justify-content: center;
            height: 40px;
          "
          aria-label="In√≠cio"
        >
          <svg
            width="32"
            height="32"
            viewBox="0 0 24 24"
            fill="none"
            aria-hidden="true"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M3 11.5L12 4L21 11.5V20A1 1 0 0 1 20 21H16A1 1 0 0 1 15 20V16A1 1 0 0 0 14 15H10A1 1 0 0 0 9 16V20A1 1 0 0 1 8 21H4A1 1 0 0 1 3 20V11.5Z"
              fill="#111827"
            />
          </svg>
        </span>
      </div>
      <div
        id="btnEstudo"
        title="Estudo"
        tabindex="0"
        role="button"
        aria-pressed="false"
        style="
          margin: 0 auto 0 auto;
          display: flex;
          align-items: center;
          justify-content: center;
          background: none;
          border: none;
          cursor: pointer;
          width: 48px;
          height: 48px;
          border-radius: 50%;
          transition: background 0.2s;
        "
        onmouseover="this.style.background='#e5e7eb'"
        onmouseout="this.style.background='none'"
      >
        <!-- Chap√©u de formatura simples com parte redonda (tassel e topo) -->
        <svg
          width="32"
          height="32"
          viewBox="0 0 32 32"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          aria-hidden="true"
        >
          <!-- Topo do chap√©u (losango) -->
          <polygon points="16,8 28,13 16,18 4,13" fill="#111827" />
          <!-- Parte redonda (base do chap√©u) -->
          <ellipse cx="16" cy="18" rx="6" ry="2.2" fill="#111827" />
          <!-- Tassel (cord√£o) -->
          <line
            x1="16"
            y1="8"
            x2="16"
            y2="22"
            stroke="#111827"
            stroke-width="1.5"
          />
          <!-- Bolinha do tassel -->
          <circle cx="16" cy="22.7" r="1.1" fill="#111827" />
        </svg>
      </div>
      <div
        id="btnPerfil"
        title="Perfil"
        tabindex="0"
        role="button"
        aria-pressed="false"
        style="
          margin: 0 auto 0 auto;
          display: flex;
          align-items: center;
          justify-content: center;
          background: none;
          border: none;
          cursor: pointer;
          width: 48px;
          height: 48px;
          border-radius: 50%;
          transition: background 0.2s;
        "
        onmouseover="this.style.background='#e5e7eb'"
        onmouseout="this.style.background='none'"
      >
        <svg
          width="32"
          height="32"
          viewBox="0 0 24 24"
          fill="none"
          aria-hidden="true"
          xmlns="http://www.w3.org/2000/svg"
        >
          <circle cx="12" cy="8" r="4" fill="#111827" />
          <path
            d="M4 20c0-3.3137 3.134-6 7-6s7 2.6863 7 6"
            stroke="#111827"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            fill="none"
          />
        </svg>
      </div>
      <div style="flex: 1"></div>
      <div
        id="btnEmpresaSite"
        title="Site da Empresa"
        tabindex="0"
        role="button"
        aria-pressed="false"
        style="
          margin: 0 auto 16px auto;
          display: flex;
          align-items: center;
          justify-content: center;
          background: #22c55e;
          border: none;
          cursor: pointer;
          width: 48px;
          height: 48px;
          border-radius: 50%;
          transition: background 0.2s;
        "
        onmouseover="this.style.background='#111827';this.querySelectorAll('rect')[0].setAttribute('fill','#fff');this.querySelectorAll('rect')[0].setAttribute('stroke','#fff');this.querySelectorAll('rect')[6].setAttribute('fill','#fff');this.querySelectorAll('rect')[6].setAttribute('stroke','#fff');this.querySelectorAll('rect').forEach((r,i)=>{if(i>0&&i<7)r.setAttribute('fill','#fff');});"
        onmouseout="this.style.background='#22c55e';this.querySelectorAll('rect')[0].setAttribute('fill','#fff');this.querySelectorAll('rect')[0].setAttribute('stroke','#111827');this.querySelectorAll('rect')[6].setAttribute('fill','#fff');this.querySelectorAll('rect')[6].setAttribute('stroke','#111827');this.querySelectorAll('rect').forEach((r,i)=>{if(i>0&&i<7)r.setAttribute('fill','#111827');});"
        onclick="window.location.href='empresa.html'"
      >
        <span
          style="
            display: flex;
            align-items: center;
            justify-content: center;
            height: 40px;
          "
          aria-label="Site da Empresa"
        >
          <svg
            width="28"
            height="28"
            viewBox="0 0 24 24"
            fill="none"
            aria-hidden="true"
            xmlns="http://www.w3.org/2000/svg"
          >
            <rect
              x="3"
              y="7"
              width="18"
              height="13"
              rx="2"
              fill="#fff"
              stroke="#111827"
              stroke-width="2"
            />
            <rect x="7" y="11" width="2" height="2" fill="#111827" />
            <rect x="11" y="11" width="2" height="2" fill="#111827" />
            <rect x="15" y="11" width="2" height="2" fill="#111827" />
            <rect x="7" y="15" width="2" height="2" fill="#111827" />
            <rect x="11" y="15" width="2" height="2" fill="#111827" />
            <rect x="15" y="15" width="2" height="2" fill="#111827" />
            <rect
              x="9"
              y="3"
              width="6"
              height="4"
              rx="1"
              fill="#fff"
              stroke="#111827"
              stroke-width="2"
            />
          </svg>
        </span>
      </div>
      <div class="logo-lateral">
        <img
          src="prisma-ai/capturar-removebg-preview.png"
          alt="Logo Prisma"
          style="
            width: 48px;
            height: 80px;
            margin-bottom: 12px;
            opacity: 0.92;
            cursor: pointer;
            transition: transform 0.2s cubic-bezier(0.7, 0.2, 0.3, 1.1);
          "
          id="logoPrisma"
        />
      </div>
      <!-- Modal para exibir a logo expandida -->
      <div
        id="logoModal"
        style="
          display: none;
          position: fixed;
          z-index: 9999;
          top: 0;
          left: 0;
          width: 100vw;
          height: 100vh;
          justify-content: center;
          align-items: center;
          background: transparent;
          pointer-events: auto;
        "
      >
        <div
          id="logo3dWrapper"
          style="
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            perspective: 1200px;
            width: 60vw;
            height: 60vh;
            display: flex;
            align-items: center;
            justify-content: center;
            pointer-events: none;
          "
        >
          <img
            src="prisma-ai/capturar-removebg-preview.png"
            alt="Logo Prisma Expandida"
            id="logoExpandida"
            style="
              max-width: 100%;
              max-height: 100%;
              opacity: 0.98;
              display: block;
              pointer-events: none;
              filter: drop-shadow(0 8px 24px rgba(0, 0, 0, 0.18))
                drop-shadow(0 1px 0 #fff) drop-shadow(0 0 0 #fff);
              /* O drop-shadow cria a ilus√£o de profundidade apenas nas partes vis√≠veis */
              will-change: transform, filter;
              transition: transform 0.18s cubic-bezier(0.7, 0.2, 0.3, 1.1),
                filter 0.18s;
              background: none;
              border-radius: 0;
            "
          />
        </div>
      </div>
      <script>
        // Modal da logo expandida
        const logoPrisma = document.getElementById("logoPrisma");
        const logoModal = document.getElementById("logoModal");
        const logoExpandida = document.getElementById("logoExpandida");
        const logo3dWrapper = document.getElementById("logo3dWrapper");
        logoPrisma.onclick = function () {
          logoModal.style.display = "flex";
        };
        logoModal.onclick = function (e) {
          if (e.target === logoModal) logoModal.style.display = "none";
        };

        // Faz a imagem seguir completamente o mouse na tela do modal
        logoModal.addEventListener("mousemove", function (e) {
          const modalRect = logoModal.getBoundingClientRect();
          const x = e.clientX - modalRect.left;
          const y = e.clientY - modalRect.top;
          // Centraliza a imagem no ponteiro
          logo3dWrapper.style.left = x + "px";
          logo3dWrapper.style.top = y + "px";
          // O efeito de rota√ß√£o ser√° aplicado abaixo
          apply3DRotation(x, y, modalRect.width, modalRect.height);
        });
        logoModal.addEventListener("mouseleave", function () {
          // Volta para o centro da tela e reseta rota√ß√£o
          logo3dWrapper.style.left = "50%";
          logo3dWrapper.style.top = "50%";
          logoExpandida.style.transform = "none";
          logoExpandida.style.filter =
            "drop-shadow(0 8px 24px rgba(0,0,0,0.18)) drop-shadow(0 1px 0 #fff) drop-shadow(0 0 0 #fff)";
        });

        // Fun√ß√£o para aplicar rota√ß√£o 3D e profundidade conforme o mouse
        function apply3DRotation(mouseX, mouseY, areaWidth, areaHeight) {
          const centerX = areaWidth / 2;
          const centerY = areaHeight / 2;
          const maxTilt = 120;
          const rotateY = ((mouseX - centerX) / centerX) * maxTilt;
          const rotateX = -((mouseY - centerY) / centerY) * maxTilt;
          // Simula profundidade com drop-shadow din√¢mico
          const shadowX = ((mouseX - centerX) / centerX) * 32;
          const shadowY = ((mouseY - centerY) / centerY) * 32;
          logoExpandida.style.transform = `rotateY(${rotateY}deg) rotateX(${rotateX}deg) scale(1.18)`;
          logoExpandida.style.filter =
            `drop-shadow(${-shadowX}px ${
              shadowY + 16
            }px 32px rgba(0,0,0,0.22))` +
            ` drop-shadow(0 1px 0 #fff)` +
            ` drop-shadow(0 0 0 #fff)`;
        }
      </script>
    </aside>

    <main id="mainContent" aria-live="polite">
      <!-- P√°gina In√≠cio -->
      <section
        id="paginaInicio"
        aria-label="P√°gina inicial"
        style="display: block"
      >
        <div class="user-meta" aria-label="Informa√ß√µes do usu√°rio">
          <span>Guilherme, Engenheiro mec√¢nico</span>
          <span class="meta-highlight">Meta: Modifica√ß√£o de Carros</span>
        </div>
        <div class="search-container">
          <input
            type="text"
            id="inputBusca"
            placeholder="Buscar vagas ou conversar com a PRISMA IA..."
            aria-label="Busca de vagas ou chat"
          />
          <div
            class="icon-button"
            id="abrirModalVagas"
            title="Mostrar todas vagas"
            role="button"
            tabindex="0"
            aria-label="Mostrar todas as vagas"
          >
            üîç
          </div>
          <div
            class="icon-button"
            title="Microfone"
            role="button"
            aria-label="Microfone"
          >
            üé§
          </div>
          <div
            class="icon-button"
            title="√Åudio"
            role="button"
            aria-label="√Åudio"
          >
            üîä
          </div>
        </div>
        <div class="empresa-tags" aria-label="Empresas">
          <br /><br />
          <span class="empresa-tag" tabindex="0">Nissan</span>
          <span class="empresa-tag" tabindex="0">Peugeot</span>
          <span class="empresa-tag" tabindex="0">Toyota</span>
          <span class="empresa-tag" tabindex="0">ArcelorMittal</span>
          <span class="empresa-tag" tabindex="0">Michelin</span>
          <span class="empresa-tag" tabindex="0">CSN</span>
          <span class="empresa-tag" tabindex="0">Volkswagen</span>
          <span class="empresa-tag" tabindex="0">Ford</span>
          <span class="empresa-tag" tabindex="0">Hyundai</span>
        </div>

        <section
          class="vagas-container index-vagas"
          aria-label="Vagas Recomendadas"
        >
          <article class="vaga-card" tabindex="0">
            <div class="vaga-empresa">Nissan</div>
            <div class="vaga-titulo">T√©cnico Mec√¢nico</div>
            <div class="vaga-curso">Curso necess√°rio: T√©cnico em Mec√¢nica</div>
            <div class="chances">Chances: 40%</div>
          </article>
          <article class="vaga-card" tabindex="0">
            <div class="vaga-empresa">Toyota</div>
            <div class="vaga-titulo">Engenheiro de Produ√ß√£o</div>
            <div class="vaga-curso">
              Curso necess√°rio: Engenharia de Produ√ß√£o
            </div>
            <div class="chances">Chances: 90%</div>
          </article>
          <article class="vaga-card" tabindex="0">
            <div class="vaga-empresa">CSN</div>
            <div class="vaga-titulo">Assistente Administrativo</div>
            <div class="vaga-curso">
              Curso necess√°rio: Ensino M√©dio Completo
            </div>
            <div class="chances">Chances: 85%</div>
          </article>
          <article class="vaga-card" tabindex="0">
            <div class="vaga-empresa">Volkswagen</div>
            <div class="vaga-titulo">Analista de Sustentabilidade</div>
            <div class="vaga-curso">Curso necess√°rio: Engenharia Ambiental</div>
            <div class="chances">Chances: 75%</div>
          </article>
          <article class="vaga-card" tabindex="0">
            <div class="vaga-empresa">Ford</div>
            <div class="vaga-titulo">Especialista em Qualidade</div>
            <div class="vaga-curso">
              Curso necess√°rio: Engenharia de Qualidade
            </div>
            <div class="chances">Chances: 60%</div>
          </article>
        </section>

        <section
          class="metas-container"
          aria-label="Metas profissionais"
          style="
            display: flex;
            flex-direction: row;
            align-items: center;
            justify-content: space-between;
            gap: 32px;
          "
        >
          <div style="flex: 2; min-width: 0">
            <h2 class="metas-titulo">Metas profissionais para voc√™</h2>
            <ul style="list-style: none; padding: 0; margin: 0">
              <li class="meta-item">
                üß™ Fazer curso de sustentabilidade ambiental
                <span class="meta-destaque">(Volkswagen)</span>
              </li>
              <li class="meta-item">
                üîß Aperfei√ßoar conhecimentos em mec√¢nica automotiva
              </li>
              <li class="meta-item">
                üéØ Alcan√ßar vaga em engenharia de produ√ß√£o
              </li>
            </ul>
          </div>
          <div
            style="
              flex: 1;
              display: flex;
              flex-direction: column;
              align-items: center;
            "
          >
            <!-- Gr√°fico meia lua estilizado -->
            <svg width="120" height="70" viewBox="0 0 120 70">
              <!-- Fundo -->
              <path
                d="M20,60 A40,40 0 0,1 100,60"
                fill="none"
                stroke="#e5e7eb"
                stroke-width="14"
              />
              <!-- Progresso (75%) -->
              <path
                d="M20,60 A40,40 0 0,1 100,60"
                fill="none"
                stroke="#22c55e"
                stroke-width="14"
                stroke-linecap="round"
                stroke-dasharray="94"
                stroke-dashoffset="23"
              />
            </svg>
            <div
              style="
                color: #22c55e;
                font-size: 1.5rem;
                font-weight: 800;
                margin-top: -18px;
              "
            >
              75%
            </div>
            <div
              style="
                font-size: 0.98rem;
                color: #374151;
                margin-top: 2px;
                text-align: center;
              "
            >
              Progresso das suas metas
            </div>
          </div>
        </section>

        <section
          class="metas-container"
          aria-label="Experi√™ncias Profissionais"
        >
          <h2 class="metas-titulo">Experi√™ncias Profissionais</h2>
          <div class="meta-item">
            <span style="font-weight: 700; color: #2563eb"
              >Assistente Administrativo</span
            >
            (2021-01 - 2022-12)<span
              class="meta-destaque"
              style="margin-left: 8px"
              >Atendimento ao p√∫blico, organiza√ß√£o de documentos e apoio √†
              equipe.</span
            >
          </div>
        </section>

        <section class="favoritos-container" aria-label="Cursos recomendados">
          <h2 class="favoritos-titulo">Cursos recomendados para voc√™</h2>
          <div class="favorito-item">Curso T√©cnico em Mec√¢nica Industrial</div>
          <div class="favorito-item">Ingl√™s T√©cnico para Engenharia</div>
          <div class="favorito-item">
            Sustentabilidade Ambiental nas Ind√∫strias
          </div>
          <div class="favorito-item">Gest√£o da Qualidade e Produtividade</div>
        </section>
      </section>

      <!-- P√°gina Estudo / Curso -->
      <section
        id="paginaEstudo"
        style="display: none; max-width: 600px; margin: auto"
      >
        <h2>Cadastro de Gradua√ß√£o / Curso</h2>
        <form id="formEstudo">
          <label for="cursoNome">Curso Superior</label>
          <input
            type="text"
            id="cursoNome"
            name="cursoNome"
            required
            value="Engenharia Mec√¢nica"
          />

          <label for="situacaoCurso">Formado ou em andamento?</label>
          <select id="situacaoCurso" name="situacaoCurso" required>
            <option value="em_andamento" selected>Em andamento</option>
            <option value="formado">Formado</option>
          </select>

          <label for="dataConclusao">Data de conclus√£o</label>
          <input
            type="date"
            id="dataConclusao"
            name="dataConclusao"
            value="2026-12-31"
          />

          <button type="submit">Salvar</button>
        </form>

        <!-- Nova se√ß√£o: Experi√™ncia de Trabalho -->
        <h2>Experi√™ncia de Trabalho</h2>
        <form id="formExperiencia">
          <label for="cargoExp">Fun√ß√£o/Cargo</label>
          <input
            type="text"
            id="cargoExp"
            name="cargoExp"
            required
            value="Assistente Administrativo"
          />

          <label for="descricaoExp">O que fazia</label>
          <input
            type="text"
            id="descricaoExp"
            name="descricaoExp"
            required
            value="Atendimento ao p√∫blico, organiza√ß√£o de documentos e apoio √† equipe."
          />

          <label for="entradaExp">Entrada</label>
          <input
            type="month"
            id="entradaExp"
            name="entradaExp"
            required
            value="2021-01"
          />

          <label for="saidaExp">Sa√≠da</label>
          <input type="month" id="saidaExp" name="saidaExp" value="2022-12" />

          <button type="submit">Salvar Experi√™ncia</button>
        </form>
        <div id="listaExperiencias" style="margin-top: 18px">
          <div
            style="
              background: #f0fdf4;
              border-radius: 6px;
              padding: 10px 14px;
              margin-bottom: 10px;
            "
          >
            <strong style="color: #065f46">Assistente Administrativo</strong>
            (2021-01 - 2022-12)<br />
            <span style="color: #065f46"
              >Atendimento ao p√∫blico, organiza√ß√£o de documentos e apoio √†
              equipe.</span
            >
          </div>
        </div>
      </section>

      <!-- P√°gina Perfil -->
      <section
        id="paginaPerfil"
        style="display: none; max-width: 600px; margin: auto"
      >
        <h2>Cadastro de Usu√°rio</h2>
        <form id="formPerfil">
          <label for="nomeUsuario">Nome</label>
          <input
            type="text"
            id="nomeUsuario"
            name="nomeUsuario"
            required
            value="Guilherme"
          />

          <label for="idadeUsuario">Idade</label>
          <input
            type="number"
            id="idadeUsuario"
            name="idadeUsuario"
            required
            value="28"
          />

          <label for="emailUsuario">Email</label>
          <input
            type="email"
            id="emailUsuario"
            name="emailUsuario"
            required
            value="guilherme@email.com"
          />

          <label for="cpfUsuario">CPF</label>
          <input
            type="text"
            id="cpfUsuario"
            name="cpfUsuario"
            required
            value="123.456.789-00"
          />

          <label for="senhaUsuario">Senha</label>
          <input
            type="password"
            id="senhaUsuario"
            name="senhaUsuario"
            required
            value="123456"
          />

          <label for="pcdUsuario">√â PCD?</label>
          <select id="pcdUsuario" name="pcdUsuario" required>
            <option value="sim" selected>Sim</option>
            <option value="nao">N√£o</option>
          </select>

          <label for="metaProfissional">Meta Profissional</label>
          <input
            type="text"
            id="metaProfissional"
            name="metaProfissional"
            required
            value="Modifica√ß√£o de Carros"
          />

          <button type="submit">Salvar</button>
        </form>
      </section>
    </main>

    <!-- Bot√£o Voltar -->
    <button
      id="btnVoltar"
      class="btn-voltar"
      title="Voltar"
      aria-label="Voltar"
    >
      ‚Üê
    </button>

    <!-- Modal Lista Vagas -->
    <div
      class="modal-bg"
      id="modalVagas"
      role="dialog"
      aria-modal="true"
      aria-labelledby="modalVagasTitulo"
    >
      <div class="modal-content">
        <div class="modal-header">
          <h3 id="modalVagasTitulo">Todas as Vagas Dispon√≠veis</h3>
          <button class="modal-close" id="modalClose" aria-label="Fechar modal">
            &times;
          </button>
        </div>
        <div id="listaVagasCompleta" tabindex="0">
          <!-- Lista din√¢mica ser√° inserida aqui -->
        </div>
      </div>
    </div>

    <!-- Chat fixo -->
    <div
      class="chat-container"
      role="region"
      aria-label="Chat P.AI - Mude o seu futuro"
      style="display: flex; flex-direction: column; justify-content: flex-end"
    >
      <header class="chat-header">
        P.AI - Mude o seu futuro
        <button
          class="chat-close-btn"
          title="Fechar chat"
          aria-label="Fechar chat"
        >
          X
        </button>
      </header>
      <section
        class="chat-messages"
        aria-live="polite"
        aria-relevant="additions"
        tabindex="0"
      >
        <div><strong>PRISMA:</strong> Ol√°, como posso ajudar voc√™ hoje?</div>
      </section>
      <div
        class="chat-footer"
        style="
          display: flex;
          align-items: center;
          padding: 12px;
          border-top: 1px solid #e5e7eb;
          background: #fff;
        "
      >
        <button
          id="btnAudio"
          title="Ouvir mensagem"
          aria-label="Ouvir mensagem"
          style="
            margin-right: 8px;
            background: none;
            border: none;
            cursor: pointer;
          "
        >
          <!-- Mesmo √≠cone de √°udio usado nos outros bot√µes -->
          <svg
            width="24"
            height="24"
            fill="none"
            stroke="#065f46"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            viewBox="0 0 24 24"
          >
            <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5" />
            <path d="M19.07 4.93a10 10 0 0 1 0 14.14" />
            <path d="M15.54 8.46a5 5 0 0 1 0 7.07" />
          </svg>
        </button>
        <button
          id="btnMic"
          title="Falar mensagem"
          aria-label="Falar mensagem"
          style="
            margin-right: 8px;
            background: none;
            border: none;
            cursor: pointer;
          "
        >
          <!-- Mesmo √≠cone de microfone usado nos outros bot√µes -->
          <svg
            width="24"
            height="24"
            fill="none"
            stroke="#065f46"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <rect x="9" y="2" width="6" height="12" rx="3" />
            <path d="M5 10v2a7 7 0 0 0 14 0v-2" />
            <line x1="12" y1="22" x2="12" y2="18" />
          </svg>
        </button>
        <form
          class="chat-input-area"
          onsubmit="event.preventDefault(); sendMessage();"
        >
          <input
            type="text"
            id="chatInput"
            placeholder="Digite sua mensagem"
            aria-label="Digite sua mensagem para PRISMA IA"
            autocomplete="off"
            required
          />
          <button
            type="submit"
            title="Enviar mensagem"
            aria-label="Enviar mensagem"
          >
            ‚û§
          </button>
        </form>
      </div>
    </div>

    <!-- Bot√£o para abrir o chat IA -->
    <button
      id="btnAbrirChatIA"
      class="btn-chat-reabrir"
      title="Abrir chat IA"
      aria-label="Abrir chat IA"
      style="display: none; width: 60px; height: 60px; font-size: 40px"
    >
      üí¨
    </button>

    <script>
      // Controle de p√°ginas simuladas
      const btnInicio = document.getElementById("btnInicio");
      const btnEstudo = document.getElementById("btnEstudo");
      const btnPerfil = document.getElementById("btnPerfil");
      const mainContent = document.getElementById("mainContent");
      const paginaInicio = document.getElementById("paginaInicio");
      const paginaEstudo = document.getElementById("paginaEstudo");
      const paginaPerfil = document.getElementById("paginaPerfil");
      const btnVoltar = document.getElementById("btnVoltar");

      // Lista de vagas (expandida para 12 vagas)
      const vagas = [
        {
          empresa: "Nissan",
          titulo: "T√©cnico Mec√¢nico",
          curso: "T√©cnico em Mec√¢nica",
          chances: 40,
        },
        {
          empresa: "Toyota",
          titulo: "Engenheiro de Produ√ß√£o",
          curso: "Engenharia de Produ√ß√£o",
          chances: 90,
        },
        {
          empresa: "CSN",
          titulo: "Assistente Administrativo",
          curso: "Ensino M√©dio Completo",
          chances: 85,
        },
        {
          empresa: "Volkswagen",
          titulo: "Analista de Sustentabilidade",
          curso: "Engenharia Ambiental",
          chances: 75,
        },
        {
          empresa: "Ford",
          titulo: "Especialista em Qualidade",
          curso: "Engenharia de Qualidade",
          chances: 60,
        },
        {
          empresa: "Hyundai",
          titulo: "T√©cnico em Manuten√ß√£o",
          curso: "T√©cnico em Mec√¢nica",
          chances: 55,
        },
        {
          empresa: "Peugeot",
          titulo: "Designer Industrial",
          curso: "Design",
          chances: 45,
        },
        {
          empresa: "ArcelorMittal",
          titulo: "Engenheiro de Materiais",
          curso: "Engenharia de Materiais",
          chances: 70,
        },
        {
          empresa: "Michelin",
          titulo: "Analista de Processos",
          curso: "Administra√ß√£o",
          chances: 65,
        },
        {
          empresa: "Honda",
          titulo: "T√©cnico em Qualidade",
          curso: "T√©cnico em Qualidade",
          chances: 50,
        },
        {
          empresa: "Volvo",
          titulo: "Engenheiro de Seguran√ßa",
          curso: "Engenharia de Seguran√ßa do Trabalho",
          chances: 80,
        },
        {
          empresa: "Renault",
          titulo: "Analista de Log√≠stica",
          curso: "Log√≠stica",
          chances: 60,
        },
      ];

      // Fun√ß√£o para mudar p√°gina
      function mostrarPagina(pagina) {
        paginaInicio.style.display = "none";
        paginaEstudo.style.display = "none";
        paginaPerfil.style.display = "none";

        btnInicio.classList.remove("active");
        btnEstudo.classList.remove("active");
        btnPerfil.classList.remove("active");

        if (pagina === "inicio") {
          paginaInicio.style.display = "block";
          btnInicio.classList.add("active");
          mainContent.classList.remove("form-active");
          btnVoltar.style.display = "none";
        } else if (pagina === "estudo") {
          paginaEstudo.style.display = "block";
          btnEstudo.classList.add("active");
          mainContent.classList.add("form-active");
          btnVoltar.style.display = "flex";
        } else if (pagina === "perfil") {
          paginaPerfil.style.display = "block";
          btnPerfil.classList.add("active");
          mainContent.classList.add("form-active");
          btnVoltar.style.display = "flex";
        }
      }

      // Eventos bot√µes menu lateral
      btnInicio.onclick = () => mostrarPagina("inicio");
      btnEstudo.onclick = () => mostrarPagina("estudo");
      btnPerfil.onclick = () => mostrarPagina("perfil");

      // Bot√£o voltar volta para a p√°gina in√≠cio
      btnVoltar.onclick = () => mostrarPagina("inicio");

      // Modal vagas (lupa)
      const modalVagas = document.getElementById("modalVagas");
      const abrirModalVagas = document.getElementById("abrirModalVagas");
      const modalClose = document.getElementById("modalClose");
      const listaVagasCompleta = document.getElementById("listaVagasCompleta");

      abrirModalVagas.onclick = () => {
        modalVagas.classList.add("active");
        preencherListaVagas();
      };
      modalClose.onclick = () => {
        modalVagas.classList.remove("active");
      };
      modalVagas.onclick = (e) => {
        if (e.target === modalVagas) modalVagas.classList.remove("active");
      };

      function preencherListaVagas() {
        listaVagasCompleta.innerHTML = "";
        vagas.forEach((vaga) => {
          const vagaDiv = document.createElement("div");
          vagaDiv.className = "vaga-lista-item";
          vagaDiv.tabIndex = 0;
          vagaDiv.innerHTML = `
        <div class="vaga-lista-empresa">${vaga.empresa}</div>
        <div class="vaga-lista-titulo">${vaga.titulo}</div>
        <div class="vaga-lista-curso">Curso necess√°rio: ${vaga.curso}</div>
        <div class="vaga-lista-chances">Chances: ${vaga.chances}%</div>
      `;
          listaVagasCompleta.appendChild(vagaDiv);
        });
      }

      // Chat PRISMA IA - respostas b√°sicas
      const chatMessages = document.querySelector(".chat-messages");
      const chatInput = document.getElementById("chatInput");
      const chatContainer = document.querySelector(".chat-container");
      const btnAbrirChatIA = document.getElementById("btnAbrirChatIA");
      const chatCloseBtn = document.querySelector(".chat-close-btn");

      chatCloseBtn.onclick = () => {
        chatContainer.style.display = "none";
        btnAbrirChatIA.style.display = "flex";
      };

      btnAbrirChatIA.onclick = () => {
        chatContainer.style.display = "flex";
        btnAbrirChatIA.style.display = "none";
      };

      // Garante que o chat aparece ao carregar e o bot√£o est√° escondido
      window.addEventListener("DOMContentLoaded", () => {
        chatContainer.style.display = "flex";
        btnAbrirChatIA.style.display = "none";
      });

      function sendMessage() {
        const userMsg = chatInput.value.trim();
        if (!userMsg) return;

        const userDiv = document.createElement("div");
        userDiv.textContent = `Voc√™: ${userMsg}`;
        chatMessages.appendChild(userDiv);

        chatInput.value = "";
        chatMessages.scrollTop = chatMessages.scrollHeight;

        setTimeout(() => {
          const resposta = gerarResposta(userMsg.toLowerCase());
          const iaDiv = document.createElement("div");
          iaDiv.innerHTML = `<strong>PRISMA IA:</strong> ${resposta}`;
          chatMessages.appendChild(iaDiv);
          chatMessages.scrollTop = chatMessages.scrollHeight;
        }, 700);
      }

      function gerarResposta(msg) {
        if (msg.includes("oi") || msg.includes("ol√°")) {
          return "Ol√°! Posso ajudar com vagas, cursos, ou montar seu curr√≠culo. O que deseja?";
        }
        if (msg.includes("vaga")) {
          return "Quer saber sobre vagas dispon√≠veis? Clique no √≠cone de lupa para ver todas.";
        }
        if (msg.includes("curso")) {
          return "Posso recomendar cursos que aumentem suas chances nas vagas.";
        }
        if (msg.includes("curr√≠culo") || msg.includes("curriculo")) {
          return "Envie seu curr√≠culo na aba 'Perfil' para que eu possa ajudar a melhor√°-lo.";
        }
        if (msg.includes("pcd")) {
          return "Temos vagas inclusivas espec√≠ficas para PCD, garantindo acessibilidade e oportunidades justas.";
        }
        return "Desculpe, n√£o entendi. Pode reformular sua pergunta?";
      }

      // Formul√°rios - salvar s√≥ previne comportamento padr√£o e d√° feedback simples
      document.getElementById("formPerfil").addEventListener("submit", (e) => {
        e.preventDefault();
        alert("Perfil salvo com sucesso!");
        mostrarPagina("inicio");
      });
      document.getElementById("formEstudo").addEventListener("submit", (e) => {
        e.preventDefault();
        alert("Informa√ß√µes do curso salvas com sucesso!");
        mostrarPagina("inicio");
      });
      document.getElementById("formExperiencia").onsubmit = function (e) {
        e.preventDefault();
        const cargo = document.getElementById("cargoExp").value;
        const desc = document.getElementById("descricaoExp").value;
        const entrada = document.getElementById("entradaExp").value;
        const saida = document.getElementById("saidaExp").value;
        const lista = document.getElementById("listaExperiencias");
        const item = document.createElement("div");
        item.style =
          "background:#f0fdf4;border-radius:6px;padding:10px 14px;margin-bottom:10px;";
        item.innerHTML = `<strong style="color:#065f46;">${cargo}</strong> (${entrada} - ${
          saida || "Atual"
        })<br><span style="color:#065f46;">${desc}</span>`;
        lista.appendChild(item);
        e.target.reset();
      };

      // Iniciar com p√°gina in√≠cio
      mostrarPagina("inicio");
    </script>
  </body>
</html>
